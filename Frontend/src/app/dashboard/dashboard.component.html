<!--<app-sidebar></app-sidebar>-->

<section class="dashboard">
    <div class="container-fluid">

        <h3 class="fs-3 fw-bold my-3">Twitter Live Feed Tweets and Charts</h3>

        <div class="row">
            <div class="col-12">
                <div class="live-feed" style="max-height: 50vh; overflow-y: scroll;">
                    <p-table 
                        class="separated-table"
                        [value]="tweetsFromService" 
                        [tableStyle]="{'min-width': '50rem'}">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>TweetID</th>
                                    <th>Entity</th>
                                    <th>Sentiment</th>
                                    <th>TweetContent</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-tweet>
                                <tr [ngClass]="{'positive': tweet.sentiment === 'Positive', 'negative': tweet.sentiment === 'Negative', 'neutral': tweet.sentiment === 'Neutral'}">
                                    <td>{{tweet.tweetID}}</td>
                                    <td>{{tweet.entity}}</td>
                                    <td>
                                        <span class="fw-bold">{{tweet.sentiment}}</span>
                                    </td>
                                    <td>{{tweet.tweetContent}}</td>
                                </tr>
                            </ng-template>
                    </p-table>
                </div>
            </div>
        </div>

        <div class="row my-5">
            <div class="col-md-6 col-12">
                    <div class="card d-flex flex-column align-items-center justify-content-center" *ngIf="tweetsFromService.length != 0">
                        <p-chart class="small-chart" type="pie" [data]="data" [options]="options" />
                    </div>
                    <h5 class="fs-5 text-center">Percentage of Total Sentiments</h5>
            </div>
            <div class="col-md-6 col-12">
                <div class="card d-flex flex-column align-items-center justify-content-center" *ngIf="tweetsFromService.length != 0">
                    <p-chart class="small-chart" type="radar" [data]="data3" [options]="options3" />
                </div>
                <h5 class="fs-5 text-center">Percentage of Sentiments per Entitiy</h5>
            </div>
        </div>
    </div>
</section>